<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="utf-8">
  <meta name=”viewport” content=”width=device-width,initial-scale=1″>
  <style>
    * {
      background-color: black;
      color: #FFF;
      border: none;
      margin: 0;
      padding: 0;
      outline: none;
    }
    
    p, a {
      font-size: 2vw;
    }
    
    iframe {
      width: 100vw;
    }
    
    iframe::before {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      width: 100vw;
      opacity: 0;
    }
    
    input[type="text"][type="url"] {
      width: 10vw;
      height: 3vw;
      font-size: 2vw;
      border: none;
    }
    
    input[type="submit"] {
      width: 10vw;
      height: 5vw;
      font-size: 4vw;
    }
    
    input::placeholder {
      color: rgba(255, 255, 255, 0.15);
    }
  </style>
  <title>授業一覧</title>
</head>
</body>
<p>YouTubeを見る</p>
<label for="yt_id">https://www.youtube.com/watch?v=<input type="text" placeholder="ID" id="yt_id" autofocus></label>
<iframe id="yt_watch" width="800" height="600" frameborder="0" allow="accelerometer;autoplay;clipboard-write;encrypted-media;gyroscope;picture-in-picture" allowfullscreen></iframe>
<p><a id="yt_dl">ダウンロード</a></p>
<p>フィルタリングを回避するサイト</p>
<input type="url" placeholder="URL" id="filter_url" autofocus>
<p><a id="filter_google">Googleのキャッシュを見る(下に表示されない場合、このリンクを右クリックして新しいタブで開いてください。)</a></p>
<p><a id="filter_wayback">Waybackmachine(archive.org)のキャッシュを見る(下に表示されない場合、このリンクを右クリックして新しいタブで開いてください。)</a></p>
<p><a id="filter_save">上のリンクでうまく行かなかった場合、Waybackmachine(archive.org)にサイトを保存(下に表示されない場合、このリンクを右クリックして新しいタブで開いてください。)</a></p>
<p><a href="https://securl.nu/" target="_blank">上のリンクでうまく行かなかった場合、Securl</a></p>
<p><a href="chrome://settings/clearBrowserData">履歴削除(このリンクのURLをコピーし、新しいタブで開いてください。)</a></p>
<script>
  const go = url => {
    window.open(url, '_blank');
  }

  document.querySelector('#yt_id').oninput = () => {
    let id = decodeURIComponent(document.querySelector('#yt_id').value);
    document.querySelector('#yt_watch').src = `https://www.youtube-nocookie.com/embed/${id}?loop=1&autoplay=1&rel=0&showinfo=0&modestbranding=1&playsinline=1`;
    document.querySelector('#yt_dl').href = `javascript:go('https://www.y2mate.com/jp/youtube/${id}')`;
    return false;
  }
  
  document.querySelector('#filter_url').oninput = () => {
    let url = document.querySelector('#filter_url').value;
    document.querySelector('#filter_google').href = `javascript:go('https://webcache.googleusercontent.com/search?q=cache:${url}')`;
    document.querySelector('#filter_wayback').href = `javascript:go('https://web.archive.org/web/*/${url}')`;
    document.querySelector('#filter_save').href = `javascript:go('https://web.archive.org/save/${url}')`;
  }
  document.addEventListener('keydown', function (e) {
    if (e.shiftKey) {
      e.preventDefault();
      go('https://loilonote.app/_/');
    }
  });
</script>
</body>
</html>
